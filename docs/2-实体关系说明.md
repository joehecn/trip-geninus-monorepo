2-实体关系说明

1. 用户与个人中心

•   用户

    ◦   一对一：

        ▪   一个用户 对应 一份导游资质信息（如果他申请成为导游）。

    ◦   一对多：

        ▪   一个用户可以 创建多个 旅行团（作为组织者）。

        ▪   一个用户可以 上传多个 照片、视频。

        ▪   一个用户可以 收藏多个 景点、酒店、餐厅等。

        ▪   一个用户可以 参与多个 旅行团（作为团员）。

    ◦   多对多：

        ▪   通过“收藏”功能，用户和景点/酒店等建立了多对多关系。张三 可以收藏 外滩 和 迪士尼，而 外滩 也可以被 李四 等其他用户收藏。

2. 地点与探索

•   地点

    ◦   一对多：

        ▪   一个城市/地区（如“上海市”）下可以 有多个 景点、酒店、餐厅和购物场所。

•   景点、酒店、餐厅、购物场所

    ◦   多对多：

        ▪   它们和 分类 是多对多关系。例如：

            ▪   外滩 这个景点可以同时属于 历史遗迹、地标建筑、浪漫约会 等多个分类。

            ▪   而 历史遗迹 这个分类下，也包含 故宫、长城、外滩 等多个景点。

    ◦   一对多：

        ▪   一个景点/酒店... 可以 拥有多张 展示图片或视频。

        ▪   一个景点/酒店... 可以被 多个用户 收藏。

        ▪   一个景点/酒店... 可以被安排进 多个行程 或 行程模板 中。

3. 旅行团与活动

•   旅行团

    ◦   一对一：

        ▪   一个旅行团 有且仅有一份 详细行程单。

    ◦   一对多：

        ▪   一个旅行团可以 有多个 参与者（团员）。

        ▪   一个旅行团可以 分配多位 导游（如一位主导游，一位当地向导）。

        ▪   一个旅行团可以 拍摄多张 集体照片。

        ▪   一个旅行团可以 产生多条 导游工作日志。

    ◦   多对多：

        ▪   通过“分组”功能，旅行团 和 参与者 可以建立更复杂的关系。一个旅行团可以分成 多个小组（如“美食组”、“购物组”），而一个参与者也可以加入 多个小组。

•   参与者

    ◦   一对一：

        ▪   一位参与者 对应 一个用户账号。

        ▪   一位参与者（在某个住宿期间）通常被分配 一个房间床位。

    ◦   一对多：

        ▪   一位参与者可以 提交多份 评价（对行程、导游、酒店等）。

    ◦   多对多：

        ▪   参与者之间通过“分组”产生多对多关系。

4. 行程与计划

•   行程模板

    ◦   一对多：

        ▪   一个模板（如“经典北京5日游”）可以被用来生成 多个 实际的旅行行程。

        ▪   一个模板包含了 多天 的计划，每天又有 多个 活动安排（如第1天：天安门 -> 故宫 -> 烤鸭店）。

•   行程

    ◦   一对一：

        ▪   一份实际行程 专属服务于 一个旅行团。

    ◦   一对多：

        ▪   一份行程会详细规划 多天 的安排。

        ▪   一天的计划内包含 多个 活动项目（上午去哪，下午去哪）。

        ▪   每一天可以记录 一条 天气预报快照。

•   活动项目

    ◦   这是一个“多态”设计，意味着一个活动可以是多种类型之一：

        ▪   去一个景点（如：参观故宫）

        ▪   在一家餐厅吃饭（如：全聚德吃烤鸭）

        ▪   入住一家酒店（如：入住某某饭店）

        ▪   一次交通转换（如：乘坐高铁从北京到上海）

        ▪   一次购物体验（如：王府井大街购物）

    ◦   系统通过这个设计，将行程和具体的景点、酒店、餐厅等连接了起来。

5. 住宿与房间

•   住宿安排

    ◦   一对一：

        ▪   行程中的一个“入住酒店”活动项目 对应 一份详细的住宿安排（几号入住，几号退房）。

    ◦   一对多：

        ▪   一次住宿安排可以 预订多个 房间。

•   房间

    ◦   一对多：

        ▪   一个房间可以安排 多位 参与者入住（如一个标准间住两个人）。

        ▪   一个酒店 提供多种 类型的房间（大床房、双床房、套房）。
